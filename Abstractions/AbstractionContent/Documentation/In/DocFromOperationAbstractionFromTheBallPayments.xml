<?xml version="1.0"?>
<DocumentationAbstraction xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://tempuri.org/Operation_v1_0.xsd">
  <Documentations>
    <Documents>
      <Document name="Operations (OperationAbstractionFromTheBallPayments)" title="Operations (OperationAbstractionFromTheBallPayments)">
        <Content>
          <Header text="ActivateAndPayGroupSubscriptionPlan" level="1">
            <Header text="Specifications" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Activate and pay group subscription</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Target Definition: PaymentToken" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Obtain Stripe Token from request stream</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Method Call: ValidateMatchingEmail ( PaymentToken )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Validate that account active email matches payment token email</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Target Definition: AccountID" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Active account ID</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Target Definition: CustomerAccount ( AccountID )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Customer account object based accountID. Created if missing</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Target Definition: PaymentTokenID ( PaymentToken )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Payment token ID for Stripe payment</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Target Definition: StripeCustomerID ( CustomerAccount )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Stripe customer ID</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Target Definition: PlanName ( PaymentToken )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Plan name from the payment token</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Operation Call: ValidatePlanGroups ( PlanName )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Validate plan before charging for payment</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Method Call: ValidateStripePlanName ( PlanName )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Validate plan name from Stripe</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Target Definition: CustomersActiveSubscriptions ( StripeCustomerID )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Active Stripe subscriptions of customer</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Target Definition: CustomersActivePlanNames ( CustomersActiveSubscriptions )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Customer's active plan names</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Method Call: SyncCurrentCustomerActivePlans ( CustomerAccount, CustomersActivePlanNames )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Sync current plans to customer account</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Method Call: ProcessPayment ( StripeCustomerID, PlanName, CustomersActivePlanNames, PaymentTokenID )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Process payment to Stripe, if lacking with current plan/subscription</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Method Call: AddPlanAsActiveToCustomer ( CustomerAccount, PlanName )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Add plan to customer if missing (and thus payment was processed)</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Method Call: StoreObjects ( CustomerAccount )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Store processed object(s)</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Operation Call: GrantAccessToPaidPlan ( CustomerAccount, PlanName )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Grant access to paid plan</TextContent>
                </Text>
              </Paragraph>
            </Header>
          </Header>
          <Header text="AssociatePaymentToGroup (GroupID, PaymentID)" level="1">
            <Header text="Specifications" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Associate payment to group</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Parameters" level="2">
              <Paragraph>
                <Table>
                  <Columns>
                    <Column name="Parameter" />
                    <Column name="DataType" />
                    <Column name="Description" />
                  </Columns>
                  <Rows>
                    <Row>
                      <ColumnData>
                        <TextContent>GroupID</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>string</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>ID of the group to associate the payment to</TextContent>
                      </ColumnData>
                    </Row>
                    <Row>
                      <ColumnData>
                        <TextContent>PaymentID</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>string</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>ID of the payment to connect to group</TextContent>
                      </ColumnData>
                    </Row>
                  </Rows>
                </Table>
              </Paragraph>
            </Header>
            <Header text="Target Definition: GroupAsOwner ( GroupID )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Group as owner</TextContent>
                </Text>
              </Paragraph>
            </Header>
          </Header>
          <Header text="CancelGroupSubscriptionPlan (PlanName, AccountID)" level="1">
            <Header text="Specifications" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Cancel group paid subscription</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Parameters" level="2">
              <Paragraph>
                <Table>
                  <Columns>
                    <Column name="Parameter" />
                    <Column name="DataType" />
                    <Column name="Description" />
                  </Columns>
                  <Rows>
                    <Row>
                      <ColumnData>
                        <TextContent>PlanName</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>string</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>Plan Name</TextContent>
                      </ColumnData>
                    </Row>
                    <Row>
                      <ColumnData>
                        <TextContent>AccountID</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>string</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>Account ID to grant access for</TextContent>
                      </ColumnData>
                    </Row>
                  </Rows>
                </Table>
              </Paragraph>
            </Header>
            <Header text="Target Definition: CustomerAccount ( AccountID )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Customer account object based on account ID. Must be found</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Method Call: CancelSubscriptionPlan ( CustomerAccount, PlanName )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Cancel subscription plan on Stripe</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Operation Call: RevokeAccessToCanceledPlan ( PlanName, AccountID )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Revoke access to canceled plan</TextContent>
                </Text>
              </Paragraph>
            </Header>
          </Header>
          <Header text="FetchCustomersFromStripe (GroupID)" level="1">
            <Header text="Specifications" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Fetch customers from Stripe</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Parameters" level="2">
              <Paragraph>
                <Table>
                  <Columns>
                    <Column name="Parameter" />
                    <Column name="DataType" />
                    <Column name="Description" />
                  </Columns>
                  <Rows>
                    <Row>
                      <ColumnData>
                        <TextContent>GroupID</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>string</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>Group ID to fetch the customers to</TextContent>
                      </ColumnData>
                    </Row>
                  </Rows>
                </Table>
              </Paragraph>
            </Header>
            <Header text="Target Definition: Owner ( GroupID )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Validate group ID as valid Payments managing group</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Target Definition: StripeCustomers" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Stripe customers from service call</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Target Definition: CurrentCustomers ( Owner )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Current customer collection</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Target Definition: NewCustomersToCreate ( Owner, StripeCustomers, CurrentCustomers )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>New customers to create</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Method Call: StoreObjects ( Owner, NewCustomersToCreate )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Store new customers</TextContent>
                </Text>
              </Paragraph>
            </Header>
          </Header>
          <Header text="GrantPaidAccessToGroup (GroupID, AccountID)" level="1">
            <Header text="Specifications" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Grant paid access to group</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Parameters" level="2">
              <Paragraph>
                <Table>
                  <Columns>
                    <Column name="Parameter" />
                    <Column name="DataType" />
                    <Column name="Description" />
                  </Columns>
                  <Rows>
                    <Row>
                      <ColumnData>
                        <TextContent>GroupID</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>string</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>Group ID to grant access to</TextContent>
                      </ColumnData>
                    </Row>
                    <Row>
                      <ColumnData>
                        <TextContent>AccountID</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>string</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>Account ID to grant access for</TextContent>
                      </ColumnData>
                    </Row>
                  </Rows>
                </Table>
              </Paragraph>
            </Header>
            <Header text="Method Call: AddAccountToGroup ( GroupID, AccountID )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Add account to group by inviting and confirming. Grant as visitor role.</TextContent>
                </Text>
              </Paragraph>
            </Header>
          </Header>
          <Header text="GrantPlanAccessToAccount (PlanName, AccountID)" level="1">
            <Header text="Specifications" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Grant plan access to account</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Parameters" level="2">
              <Paragraph>
                <Table>
                  <Columns>
                    <Column name="Parameter" />
                    <Column name="DataType" />
                    <Column name="Description" />
                  </Columns>
                  <Rows>
                    <Row>
                      <ColumnData>
                        <TextContent>PlanName</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>string</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>Plan Name</TextContent>
                      </ColumnData>
                    </Row>
                    <Row>
                      <ColumnData>
                        <TextContent>AccountID</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>string</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>Account ID to grant access for</TextContent>
                      </ColumnData>
                    </Row>
                  </Rows>
                </Table>
              </Paragraph>
            </Header>
            <Header text="Target Definition: GroupSubscriptionPlan ( PlanName )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Group subscription plan of given name</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Method Call: GrantAccessToAccountForPlanGroups ( GroupSubscriptionPlan, AccountID )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Grant access to plan groups. Using GrantPaidAccessToGroup operation</TextContent>
                </Text>
              </Paragraph>
            </Header>
          </Header>
          <Header text="ProcessPayment" level="1">
            <Header text="Specifications" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Process Stripe payment</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Target Definition: PaymentToken" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Obtain Stripe Token from request stream</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Method Call: ValidateMatchingEmail ( PaymentToken )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Validate that account active email matches payment token email</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Target Definition: CustomerAccount" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Customer account object based on active account ID. Created if missing</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Method Call: ProcessPayment ( PaymentToken, CustomerAccount )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Process payment to Stripe</TextContent>
                </Text>
              </Paragraph>
            </Header>
          </Header>
          <Header text="RevokePaidAccessFromGroup (GroupID, AccountID)" level="1">
            <Header text="Specifications" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Revoke paid access to group</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Parameters" level="2">
              <Paragraph>
                <Table>
                  <Columns>
                    <Column name="Parameter" />
                    <Column name="DataType" />
                    <Column name="Description" />
                  </Columns>
                  <Rows>
                    <Row>
                      <ColumnData>
                        <TextContent>GroupID</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>string</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>Group ID to revoke access from</TextContent>
                      </ColumnData>
                    </Row>
                    <Row>
                      <ColumnData>
                        <TextContent>AccountID</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>string</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>Account ID to revoke access from</TextContent>
                      </ColumnData>
                    </Row>
                  </Rows>
                </Table>
              </Paragraph>
            </Header>
            <Header text="Method Call: RemoveAccountFromGroup ( GroupID, AccountID )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Remove account from group.</TextContent>
                </Text>
              </Paragraph>
            </Header>
          </Header>
          <Header text="RevokePlanAccessFromAccount (PlanName, AccountID)" level="1">
            <Header text="Specifications" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Revoke plan access from account</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Parameters" level="2">
              <Paragraph>
                <Table>
                  <Columns>
                    <Column name="Parameter" />
                    <Column name="DataType" />
                    <Column name="Description" />
                  </Columns>
                  <Rows>
                    <Row>
                      <ColumnData>
                        <TextContent>PlanName</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>string</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>Plan Name</TextContent>
                      </ColumnData>
                    </Row>
                    <Row>
                      <ColumnData>
                        <TextContent>AccountID</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>string</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>Account ID to grant access for</TextContent>
                      </ColumnData>
                    </Row>
                  </Rows>
                </Table>
              </Paragraph>
            </Header>
            <Header text="Target Definition: GroupSubscriptionPlan ( PlanName )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Group subscription plan of given name</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Method Call: RevokeAccessFromAccountForPlanGroups ( GroupSubscriptionPlan, AccountID )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Revoke access from plan groups. Using RevokePaidAccessFromGroup operation</TextContent>
                </Text>
              </Paragraph>
            </Header>
          </Header>
          <Header text="ValidatePlanContainingGroups (PlanName)" level="1">
            <Header text="Specifications" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Validate that plan contains groups</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Parameters" level="2">
              <Paragraph>
                <Table>
                  <Columns>
                    <Column name="Parameter" />
                    <Column name="DataType" />
                    <Column name="Description" />
                  </Columns>
                  <Rows>
                    <Row>
                      <ColumnData>
                        <TextContent>PlanName</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>string</TextContent>
                      </ColumnData>
                      <ColumnData>
                        <TextContent>Plan name to validate for groups</TextContent>
                      </ColumnData>
                    </Row>
                  </Rows>
                </Table>
              </Paragraph>
            </Header>
            <Header text="Target Definition: GroupSubscriptionPlan ( PlanName )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Group subscription plan</TextContent>
                </Text>
              </Paragraph>
            </Header>
            <Header text="Method Call: ValidateGroupsInPlan ( GroupSubscriptionPlan )" level="2">
              <Paragraph>
                <Text>
                  <TextContent>Validate groups exist (at least one) in plan</TextContent>
                </Text>
              </Paragraph>
            </Header>
          </Header>
        </Content>
      </Document>
    </Documents>
  </Documentations>
</DocumentationAbstraction>